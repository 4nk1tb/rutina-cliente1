<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="icon-180.png">
  <title>Rutina Fuerza + Hipertrofia — 5 días</title>
  <meta name="theme-color" content="#0f0f12" />
  <style>
    :root{
      --bg:#0f0f12; --elev:#17171c; --card:#1f2026; --ink:#e8ecf1; --muted:#a9b0bc;
      --brand:#7bdcff; --brand-2:#a3ff85; --warn:#ffba53; --accent:#b495ff; --danger:#ff6b6b;
      --ok:#72e6a6; --line:#2a2c36; --halo:0 10px 30px rgba(0,0,0,.55);
      --radius:14px; --radius-sm:10px; --shadow:0 8px 24px rgba(0,0,0,.35);
      --font: ui-sans-serif, -apple-system, Segoe UI, Roboto, Inter, "SF Pro Text", system-ui, Arial, sans-serif;
      --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{margin:0;background:linear-gradient(180deg,#0f0f12,#0b0b0e);color:var(--ink);font:15px/1.4 var(--font);-webkit-font-smoothing:antialiased;scroll-behavior:smooth}
    header{
      position:sticky;top:0;z-index:50;backdrop-filter:saturate(1.2) blur(10px);
      background:rgba(15,15,18,.75);border-bottom:1px solid var(--line)
    }
    .wrap{max-width:1080px;margin:0 auto;padding:18px 16px}
    .title{display:flex;align-items:center;gap:12px}
    .badge{padding:6px 10px;border-radius:999px;background:linear-gradient(135deg,var(--brand),var(--accent));color:#061014;font-weight:700;font-size:12px}
    h1{font-size:20px;margin:0}
    .subtitle{color:var(--muted);font-size:13px;margin-top:6px}
    .quick{
      display:grid;grid-template-columns:1fr auto auto;gap:10px;margin-top:14px;align-items:center
    }
    .day-tabs{
      display:grid;grid-template-columns:repeat(6,1fr);gap:8px
    }
    .tab{padding:10px 8px;border-radius:10px;background:var(--elev);border:1px solid var(--line);
      text-align:center;color:var(--ink);cursor:pointer;user-select:none;transition:.2s}
    .tab.active{outline:2px solid var(--brand);box-shadow:0 0 0 6px rgba(123,220,255,.08) inset}
    .actions{display:flex;gap:8px}
    .btn{
      padding:10px 12px;border-radius:10px;border:1px solid var(--line);background:var(--elev);
      color:var(--ink);cursor:pointer;font-weight:600;transition:.2s
    }
    .btn:hover{filter:brightness(1.08)}
    .grid{display:grid;grid-template-columns:1.2fr .8fr;gap:18px}
    @media (max-width:900px){.grid{grid-template-columns:1fr}}
    .card{
      background:linear-gradient(180deg,#1b1c22,#17171c);border:1px solid var(--line);
      border-radius:var(--radius);box-shadow:var(--shadow);padding:16px
    }
    h2{margin:0 0 10px;font-size:18px}
    h3{margin:18px 0 8px;font-size:15px;color:var(--brand)}
    .chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border:1px solid var(--line);
      border-radius:999px;background:var(--elev);color:var(--muted);font-weight:600;font-size:12px}
    .plan-note{margin:10px 0;color:var(--muted);font-size:13px}
    .exercise{border:1px solid var(--line);border-radius:12px;padding:12px;margin:10px 0;background:var(--card)}
    .head{display:flex;justify-content:space-between;gap:10px;align-items:center;flex-wrap: wrap;}
    .name{font-weight:800;font-size:16px}
    .meta{display:flex;gap:8px;flex-wrap:wrap}
    .pill{padding:4px 8px;border-radius:999px;font-weight:700;font-size:12px;color:#091015}
    .p-rir{background:linear-gradient(135deg,var(--warn),#ffd37f)}
    .p-rep{background:linear-gradient(135deg,var(--brand-2),#e0ffcf)}
    .p-rest{background:linear-gradient(135deg,var(--b2b7ff),#d4ccff)}
    .sets{display:grid;grid-template-columns:repeat(6,1fr);gap:6px;margin-top:10px}
    @media (max-width:520px){.sets{grid-template-columns:repeat(3,1fr)}}
    .set{
      padding:10px;border-radius:10px;border:1px dashed var(--line);text-align:center;
      cursor:pointer;user-select:none;background:#191a20
    }
    .set.done{background:linear-gradient(180deg,#152018,#0e1711);border-color:#1d3525}
    .set small{display:block;color:var(--muted);font-size:11px;margin-top:4px}
    .row{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-top:10px}
    .timer{
      display:inline-flex;align-items:center;gap:8px;border:1px solid var(--line);
      padding:8px 10px;border-radius:10px;background:#14161b;font-variant-numeric:tabular-nums
    }
    .timer b{font-family:var(--mono);font-size:14px}
    .alt{margin-top:8px;color:var(--muted);font-size:12px}
    details{border:1px solid var(--line);border-radius:12px;padding:10px;background:#16171d;margin-top:10px}
    details summary{cursor:pointer;font-weight:700}
    /* right column */
    .sticky{position:sticky;top:86px}
    .panel{display:grid;gap:12px}
    textarea{
      width:100%;min-height:100px;background:#14161b;color:var(--ink);border:1px solid var(--line);
      border-radius:10px;padding:10px;font-family:var(--mono)
    }
    .legend{display:flex;gap:8px;flex-wrap:wrap}
    .legend .chip b{color:var(--ink)}
    .footer{color:var(--muted);font-size:12px;opacity:.9}
    .small{font-size:12px;color:var(--muted)}
    .today{outline:2px solid var(--accent);box-shadow:0 0 0 6px rgba(180,149,255,.08) inset}
    .ghost{opacity:.7; pointer-events: none;}
  </style>
</head>
<body>
<header>
  <div class="wrap">
    <div class="title">
      <span class="badge">Fuerza + Hipertrofia — 5 días</span>
      <h1>Plan personalizado: pérdida de grasa + fuerza</h1>
    </div>
    <div class="subtitle">Usuario: 115&nbsp;kg · 1.68&nbsp;m · Objetivo 6 meses · Prioridad: Pérdida 5/5 · Fuerza 4/5 · Piernas/Glúteos 3/5</div>
    <div class="quick">
      <div class="day-tabs" id="tabs">
        <div class="tab" data-day="0">L • Piernas</div>
        <div class="tab" data-day="1">M • Torso A</div>
        <div class="tab" data-day="2">X • Glúteo/Fem.</div>
        <div class="tab" data-day="3">J • Torso B</div>
        <div class="tab" data-day="4">V • Piernas Full</div>
        <div class="tab" data-day="5">S/D • Descanso</div>
      </div>
      <div class="actions">
        <button class="btn" id="toggleTheme">🌗 Tema</button>
        <button class="btn" id="resetDay">↺ Reset día</button>
      </div>
      <div class="chip">RIR general: <b>2–3</b></div>
    </div>
  </div>
</header>

<main class="wrap grid">
  <!-- LEFT: WORKOUTS -->
  <section id="workouts">
    <!-- Día 1 – Piernas (énfasis cuádriceps) -->
    <article class="card day" data-day="0">
      <h2>Día 1 – Piernas (énfasis cuádriceps)</h2>
      <div class="exercise" data-ex="prensa45">
        <div class="head">
          <div class="name">Prensa 45°</div>
          <div class="meta"><span class="pill p-rep">4×6–8</span><span class="pill p-rir">RIR 2</span><span class="pill p-rest">2–3′</span></div>
        </div>
        <div class="sets" data-default="4"></div>
        <div class="row"><div class="timer" data-min="2" data-max="3"><b>02:00</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
      </div>
      <div class="exercise" data-ex="goblet">
        <div class="head">
          <div class="name">Sentadilla goblet o hack squat</div>
          <div class="meta"><span class="pill p-rep">3×8–10</span><span class="pill p-rir">RIR 2</span><span class="pill p-rest">90–120″</span></div>
        </div>
        <div class="sets" data-default="3"></div>
        <div class="row"><div class="timer" data-min="1.5" data-max="2"><b>01:30</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
      </div>
      <div class="exercise" data-ex="zancadas">
        <div class="head">
          <div class="name">Zancadas caminando con mancuernas</div>
          <div class="meta"><span class="pill p-rep">3×10–12/lado</span><span class="pill p-rir">RIR 2–3</span><span class="pill p-rest">90″</span></div>
        </div>
        <div class="sets" data-default="3"></div>
        <div class="row"><div class="timer" data-min="1.5" data-max="1.5"><b>01:30</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
      </div>
      <div class="exercise" data-ex="ext-cuad">
        <div class="head">
          <div class="name">Extensión de cuádriceps</div>
          <div class="meta"><span class="pill p-rep">3×12–15</span><span class="pill p-rir">RIR 1–2</span><span class="pill p-rest">60–90″</span></div>
        </div>
        <div class="sets" data-default="3"></div>
        <div class="row"><div class="timer" data-min="1" data-max="1.5"><b>01:00</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
      </div>
      <div class="exercise" data-ex="talones">
        <div class="head">
          <div class="name">Elevación de talones en prensa</div>
          <div class="meta"><span class="pill p-rep">4×10–12</span><span class="pill p-rir">RIR 2</span><span class="pill p-rest">60″</span></div>
        </div>
        <div class="sets" data-default="4"></div>
        <div class="row"><div class="timer" data-min="1" data-max="1"><b>01:00</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
      </div>
       <div class="exercise" data-ex="core1">
        <div class="head">
          <div class="name">Plancha + hollow body</div>
          <div class="meta"><span class="pill p-rep">3×30–40 s</span><span class="pill p-rir">Al fallo</span><span class="pill p-rest">60″</span></div>
        </div>
        <div class="sets" data-default="3"></div>
        <div class="row"><div class="timer" data-min="1" data-max="1"><b>01:00</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
      </div>
    </article>

    <!-- Día 2 – Torso A (empuje/tirón) -->
    <article class="card day" data-day="1">
      <h2>Día 2 – Torso A (empuje/tirón)</h2>
      <div class="exercise" data-ex="pressbanca">
        <div class="head">
          <div class="name">Press banca en máquina o mancuernas</div>
          <div class="meta"><span class="pill p-rep">4×6–8</span><span class="pill p-rir">RIR 2</span><span class="pill p-rest">2–3′</span></div>
        </div>
        <div class="sets" data-default="4"></div>
        <div class="row"><div class="timer" data-min="2" data-max="3"><b>02:00</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
      </div>
      <div class="exercise" data-ex="remo-pecho">
        <div class="head">
          <div class="name">Remo pecho apoyado (chest-supported)</div>
          <div class="meta"><span class="pill p-rep">4×8–10</span><span class="pill p-rir">RIR 2</span><span class="pill p-rest">90–120″</span></div>
        </div>
        <div class="sets" data-default="4"></div>
        <div class="row"><div class="timer" data-min="1.5" data-max="2"><b>01:30</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
      </div>
      <div class="exercise" data-ex="jalon-pecho">
        <div class="head">
          <div class="name">Jalón al pecho</div>
          <div class="meta"><span class="pill p-rep">3×8–10</span><span class="pill p-rir">RIR 2</span><span class="pill p-rest">90″</span></div>
        </div>
        <div class="sets" data-default="3"></div>
        <div class="row"><div class="timer" data-min="1.5" data-max="1.5"><b>01:30</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
      </div>
      <div class="exercise" data-ex="press-inc">
        <div class="head">
          <div class="name">Press inclinado mancuernas</div>
          <div class="meta"><span class="pill p-rep">3×10–12</span><span class="pill p-rir">RIR 2–3</span><span class="pill p-rest">90″</span></div>
        </div>
        <div class="sets" data-default="3"></div>
        <div class="row"><div class="timer" data-min="1.5" data-max="1.5"><b>01:30</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
      </div>
      <div class="exercise" data-ex="laterales">
        <div class="head">
          <div class="name">Elevaciones laterales</div>
          <div class="meta"><span class="pill p-rep">3×12–15</span><span class="pill p-rir">RIR 1–2</span><span class="pill p-rest">60″</span></div>
        </div>
        <div class="sets" data-default="3"></div>
        <div class="row"><div class="timer" data-min="1" data-max="1"><b>01:00</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
      </div>
      <div class="exercise" data-ex="superserie1">
        <div class="head">
          <div class="name">Superserie: curl bíceps + jalón tríceps</div>
          <div class="meta"><span class="pill p-rep">3×12–15 c/u</span><span class="pill p-rir">RIR 1–2</span><span class="pill p-rest">90″</span></div>
        </div>
        <div class="sets" data-default="3"></div>
        <div class="row"><div class="timer" data-min="1.5" data-max="1.5"><b>01:30</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
      </div>
    </article>

    <!-- Día 3 – Glúteos/Isquios (bisagra) -->
    <article class="card day" data-day="2">
        <h2>Día 3 – Glúteos/Isquios (bisagra)</h2>
        <div class="exercise" data-ex="hipthrust">
            <div class="head">
                <div class="name">Hip thrust con barra</div>
                <div class="meta"><span class="pill p-rep">5×6–8</span><span class="pill p-rir">RIR 1–2</span><span class="pill p-rest">2–3′</span></div>
            </div>
            <div class="sets" data-default="5"></div>
            <div class="row"><div class="timer" data-min="2" data-max="3"><b>02:00</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
        </div>
        <div class="exercise" data-ex="rdl">
            <div class="head">
                <div class="name">Peso muerto rumano</div>
                <div class="meta"><span class="pill p-rep">3×8–10</span><span class="pill p-rir">RIR 2</span><span class="pill p-rest">2′</span></div>
            </div>
            <div class="sets" data-default="3"></div>
            <div class="row"><div class="timer" data-min="2" data-max="2"><b>02:00</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
        </div>
        <div class="exercise" data-ex="curl-femoral">
            <div class="head">
                <div class="name">Curl femoral tumbado</div>
                <div class="meta"><span class="pill p-rep">3×10–12</span><span class="pill p-rir">RIR 1–2</span><span class="pill p-rest">60–90″</span></div>
            </div>
            <div class="sets" data-default="3"></div>
            <div class="row"><div class="timer" data-min="1" data-max="1.5"><b>01:00</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
        </div>
        <div class="exercise" data-ex="ext45">
            <div class="head">
                <div class="name">Extensiones 45° (hip hinge)</div>
                <div class="meta"><span class="pill p-rep">3×12–15</span><span class="pill p-rir">RIR 2</span><span class="pill p-rest">60″</span></div>
            </div>
            <div class="sets" data-default="3"></div>
            <div class="row"><div class="timer" data-min="1" data-max="1"><b>01:00</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
        </div>
        <div class="exercise" data-ex="abduccion">
            <div class="head">
                <div class="name">Abducción en polea/banda</div>
                <div class="meta"><span class="pill p-rep">3×15–20</span><span class="pill p-rir">RIR 1–2</span><span class="pill p-rest">60″</span></div>
            </div>
            <div class="sets" data-default="3"></div>
            <div class="row"><div class="timer" data-min="1" data-max="1"><b>01:00</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
        </div>
        <div class="exercise" data-ex="gemelo-sentado">
            <div class="head">
                <div class="name">Gemelos sentado</div>
                <div class="meta"><span class="pill p-rep">3×12–15</span><span class="pill p-rir">RIR 2</span><span class="pill p-rest">60″</span></div>
            </div>
            <div class="sets" data-default="3"></div>
            <div class="row"><div class="timer" data-min="1" data-max="1"><b>01:00</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
        </div>
    </article>

    <!-- Día 4 – Torso B (hombro/espalda/pecho) -->
    <article class="card day" data-day="3">
        <h2>Día 4 – Torso B (hombro/espalda/pecho)</h2>
        <div class="exercise" data-ex="militar">
            <div class="head">
                <div class="name">Press militar (barra o máquina)</div>
                <div class="meta"><span class="pill p-rep">4×5–7</span><span class="pill p-rir">RIR 2</span><span class="pill p-rest">2–3′</span></div>
            </div>
            <div class="sets" data-default="4"></div>
            <div class="row"><div class="timer" data-min="2" data-max="3"><b>02:00</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
        </div>
        <div class="exercise" data-ex="remo-neutro">
            <div class="head">
                <div class="name">Remo en máquina agarre neutro</div>
                <div class="meta"><span class="pill p-rep">4×8–10</span><span class="pill p-rir">RIR 2</span><span class="pill p-rest">90–120″</span></div>
            </div>
            <div class="sets" data-default="4"></div>
            <div class="row"><div class="timer" data-min="1.5" data-max="2"><b>01:30</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
        </div>
        <div class="exercise" data-ex="jalon-amplio">
            <div class="head">
                <div class="name">Jalón agarre amplio</div>
                <div class="meta"><span class="pill p-rep">3×10–12</span><span class="pill p-rir">RIR 2</span><span class="pill p-rest">90″</span></div>
            </div>
            <div class="sets" data-default="3"></div>
            <div class="row"><div class="timer" data-min="1.5" data-max="1.5"><b>01:30</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
        </div>
        <div class="exercise" data-ex="press-conv">
            <div class="head">
                <div class="name">Press en máquina convergente</div>
                <div class="meta"><span class="pill p-rep">3×10–12</span><span class="pill p-rir">RIR 2–3</span><span class="pill p-rest">90″</span></div>
            </div>
            <div class="sets" data-default="3"></div>
            <div class="row"><div class="timer" data-min="1.5" data-max="1.5"><b>01:30</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
        </div>
        <div class="exercise" data-ex="facepull">
            <div class="head">
                <div class="name">Face pull</div>
                <div class="meta"><span class="pill p-rep">3×12–15</span><span class="pill p-rir">RIR 1–2</span><span class="pill p-rest">60″</span></div>
            </div>
            <div class="sets" data-default="3"></div>
            <div class="row"><div class="timer" data-min="1" data-max="1"><b>01:00</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
        </div>
        <div class="exercise" data-ex="superserie2">
            <div class="head">
                <div class="name">Curl inclinado + fondos en máquina</div>
                <div class="meta"><span class="pill p-rep">3×10–12 c/u</span><span class="pill p-rir">RIR 1–2</span><span class="pill p-rest">90″</span></div>
            </div>
            <div class="sets" data-default="3"></div>
            <div class="row"><div class="timer" data-min="1.5" data-max="1.5"><b>01:30</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
        </div>
    </article>

    <!-- Día 5 – Piernas full (mixto + acondicionamiento) -->
    <article class="card day" data-day="4">
        <h2>Día 5 – Piernas full (mixto + acondicionamiento)</h2>
        <div class="exercise" data-ex="box-squat">
            <div class="head">
                <div class="name">Sentadilla a caja (box squat)</div>
                <div class="meta"><span class="pill p-rep">4×5–6</span><span class="pill p-rir">RIR 2</span><span class="pill p-rest">2–3′</span></div>
            </div>
            <div class="sets" data-default="4"></div>
            <div class="row"><div class="timer" data-min="2" data-max="3"><b>02:00</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
        </div>
        <div class="exercise" data-ex="buenos-dias">
            <div class="head">
                <div class="name">Buenos días con barra ligera</div>
                <div class="meta"><span class="pill p-rep">3×8–10</span><span class="pill p-rir">RIR 2–3</span><span class="pill p-rest">90″</span></div>
            </div>
            <div class="sets" data-default="3"></div>
            <div class="alt">Alternativa: hip hinge con mancuerna.</div>
            <div class="row"><div class="timer" data-min="1.5" data-max="1.5"><b>01:30</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
        </div>
        <div class="exercise" data-ex="step-ups">
            <div class="head">
                <div class="name">Step-ups altos</div>
                <div class="meta"><span class="pill p-rep">3×10–12/lado</span><span class="pill p-rir">RIR 2–3</span><span class="pill p-rest">90″</span></div>
            </div>
            <div class="sets" data-default="3"></div>
            <div class="row"><div class="timer" data-min="1.5" data-max="1.5"><b>01:30</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
        </div>
        <div class="exercise" data-ex="hipthrust2">
            <div class="head">
                <div class="name">Hip thrust</div>
                <div class="meta"><span class="pill p-rep">2×10–12</span><span class="pill p-rir">RIR 2</span><span class="pill p-rest">90″</span></div>
            </div>
            <div class="sets" data-default="2"></div>
            <div class="row"><div class="timer" data-min="1.5" data-max="1.5"><b>01:30</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
        </div>
        <div class="exercise" data-ex="curl-sentado2">
            <div class="head">
                <div class="name">Curl femoral sentado</div>
                <div class="meta"><span class="pill p-rep">2×12–15</span><span class="pill p-rir">RIR 1–2</span><span class="pill p-rest">60″</span></div>
            </div>
            <div class="sets" data-default="2"></div>
            <div class="row"><div class="timer" data-min="1" data-max="1"><b>01:00</b> <button class="btn btn-mini">▶︎</button></div> <button class="btn addset">+ Serie</button> <button class="btn delset ghost">– Serie</button></div>
        </div>
        <div class="exercise" data-ex="acond">
            <div class="head">
                <div class="name">Acondicionamiento (opcional)</div>
            </div>
            <p class="plan-note">Trineo/prowler o bici: 8–12 min en intervalos (20” fuerte / 100” suave).</p>
        </div>
    </article>

    <!-- Descanso -->
    <article class="card day" data-day="5">
      <h2>Sábado/Domingo · Descanso</h2>
      <p class="plan-note">Descanso activo: paseo ligero, movilidad suave. El objetivo es recuperar bien para la próxima semana.</p>
    </article>
  </section>

  <!-- RIGHT: PANELS -->
  <aside class="panel sticky">
    <section class="card">
      <h2>Progresión del Mesociclo</h2>
      <ul class="small">
        <li><b>Sem 1–2:</b> volumen base (RIR ~3→2).</li>
        <li><b>Sem 3:</b> sube intensidad, últimas series clave a <b>RIR 1</b>.</li>
        <li><b>Sem 5:</b> si todo fluye, añade <b>+1 serie</b> a cuádriceps/hip thrust.</li>
        <li><b>Sem 6 (Deload):</b> reduce volumen <b>40–50%</b> y sube RIR +1–2.</li>
      </ul>
      <div class="row">
        <label class="chip">Semana actual:
          <select id="week" style="background:#121319;color:var(--ink);border:1px solid var(--line);border-radius:8px;padding:6px 8px;margin-left:6px">
            <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6 · Deload</option>
          </select>
        </label>
        <span class="chip" id="weekHint">Sigue el plan base.</span>
      </div>
    </section>

    <section class="card">
      <h2>Calentamiento estándar (10–12 min)</h2>
      <ol class="small">
        <li>5 min caminata en cinta o bici.</li>
        <li>Movilidad de cadera/tobillo/torácica.</li>
        <li>2–3 series de aproximación del primer ejercicio.</li>
      </ol>
      <div class="small" style="margin-top:8px">Si aparece dolor articular (≥4/10) que dura >24 h, baja 1–2 series por grupo o cambia variante.</div>
    </section>

    <section class="card">
      <h2>Guía RIR / Técnica</h2>
      <div class="small">
        <b>RIR 2:</b> quedan ~2 reps. <b>RIR 1:</b> última rep dura pero limpia. <b>RIR 0:</b> fallo técnico. <br>
        Excéntrica controlada (2–3 s); pausa 1 s abajo en gemelos. Descansos: compuestos 2–3′; accesorios 60–90″.
      </div>
      <div class="row" style="margin-top:8px">
        <button class="btn" id="completeDay">✔ Marcar día como completado</button>
        <span class="chip" id="dayState">Pendiente</span>
      </div>
    </section>

    <section class="card">
      <h2>Notas rápidas</h2>
      <textarea id="notes" placeholder="Sensaciones, cargas, RIR real, ajustes…"></textarea>
    </section>

    <section class="footer">
      <p>Diseño minimalista para uso en gimnasio. Todo se guarda en este dispositivo (localStorage).</p>
    </section>
  </aside>
</main>

<script>
(function(){
  const $ = (q,el=document)=>el.querySelector(q);
  const $$ = (q,el=document)=>[...el.querySelectorAll(q)];
  const stateKey = 'rutina-fuerza-perdida-v1';
  const state = JSON.parse(localStorage.getItem(stateKey)||'{}');

  const today = new Date();
  // Monday is 0, Tuesday is 1, ..., Saturday/Sunday are 5
  const dow = (d => [0, 1, 2, 3, 4, 5, 5][(d + 6) % 7])(today.getDay());
  const tabs = $('#tabs');
  const dayCards = $$('.day');
  const weekSel = $('#week');
  const weekHint = $('#weekHint');
  const notes = $('#notes');
  const dayState = $('#dayState');

  // Build sets UI
  dayCards.forEach(card=>{
    $$('.exercise',card).forEach(ex=>{
      const setsWrap = $('.sets',ex);
      if (!setsWrap) return;
      const def = +setsWrap.dataset.default || 3;
      const id = getExKey(card, ex);
      
      if (!state.sets) state.sets = {};
      if (!state.sets[id]) {
        state.sets[id] = Array(def).fill(false);
      }
      const doneArr = state.sets[id];
      renderSets(setsWrap, doneArr, id);

      const t = $('.timer', ex);
      if(t){
        const min = parseFloat(t.dataset.min||'2');
        const max = parseFloat(t.dataset.max||min);
        const display = $('b',t);
        const btn = $('button',t);
        let running=false, left=0, iv=null;

        function fmt(s){const m=Math.floor(s/60), r=String(Math.floor(s%60)).padStart(2,'0'); return `${String(m).padStart(2,'0')}:${r}`}
        function start(){
          left = Math.round(min*60);
          running=true; btn.textContent='⏸'; tick();
          iv=setInterval(tick,1000);
        }
        function tick(){
          display.textContent=fmt(left);
          if(left<=0){ stop(); display.textContent=fmt(max*60); vibe(); }
          left--;
        }
        function stop(){ running=false; clearInterval(iv); btn.textContent='▶︎'; }
        btn.addEventListener('click',()=> running?stop():start());
        display.textContent = fmt(min*60);
      }

      const add = $('.addset', ex);
      const del = $('.delset', ex);
      
      if(add){
        add.addEventListener('click',()=>{
          const current = getSets(id);
          current.push(false);
          saveSets(id,current); renderSets(setsWrap,current,id);
          if(del) del.classList.remove('ghost');
        });
      }
      
      if(del){
        if(getSets(id).length <= 1) del.classList.add('ghost');
        del.addEventListener('click',()=>{
          const current = getSets(id);
          if(current.length > 1){
            current.pop(); 
            saveSets(id,current); 
            renderSets(setsWrap,current,id);
            if(current.length <= 1) del.classList.add('ghost');
          }
        });
      }
    });
  });

  // Tabs, select today
  $$('.tab',tabs).forEach(t=>{
    t.addEventListener('click',()=>activateTab(+t.dataset.day));
  });
  activateTab(dow); // open today's

  // Theme toggle
  const themeBtn=$('#toggleTheme');
  if(!state.theme) state.theme = (window.matchMedia('(prefers-color-scheme: dark)').matches?'dark':'dark');
  applyTheme(state.theme);
  themeBtn.addEventListener('click',()=>{
    state.theme = state.theme==='dark'?'light':'dark';
    applyTheme(state.theme); save();
  });

  // Reset day
  $('#resetDay').addEventListener('click',resetCurrentDay);

  // Week selector
  if(state.week) weekSel.value=state.week;
  applyWeekHint();
  weekSel.addEventListener('change',()=>{
    state.week = weekSel.value; save(); applyWeekHint();
  });

  // Notes
  notes.value = state.notes || '';
  notes.addEventListener('input',()=>{ state.notes = notes.value; save(); });

  // Day completed
  applyDayState();
  $('#completeDay').addEventListener('click',()=>{
    const d=currentDay();
    state.done = state.done || {}; state.done[d]= (state.done[d]?false:true);
    save(); applyDayState();
  });

  // Helpers
  function getExKey(card, ex){ return `${card.dataset.day}:${ex.dataset.ex}` }
  function getSets(id){ state.sets = state.sets||{}; return (state.sets[id]||[]).slice(); }
  function saveSets(id, arr){ state.sets = state.sets||{}; state.sets[id]=arr; save(); }
  function renderSets(setsWrap, arr, id){
    setsWrap.innerHTML='';
    arr.forEach((val,i)=>{
      const b=document.createElement('button');
      b.className='set'+(val?' done':''); b.innerHTML=`S${i+1}<small>${val?'OK':'toca'}</small>`;
      b.addEventListener('click',()=>{
        const now=getSets(id); now[i]=!now[i]; saveSets(id,now); renderSets(setsWrap,now,id);
      });
      setsWrap.appendChild(b);
    });
  }
  function activateTab(idx){
    $$('.tab',tabs).forEach(t=>t.classList.remove('active'));
    const tab = $(`.tab[data-day="${idx}"]`, tabs);
    if(tab) tab.classList.add('active');
    dayCards.forEach(c=>c.style.display = (+c.dataset.day===idx)?'block':'none');
    
    $$('.tab',tabs).forEach(t=>t.classList.remove('today'));
    const todayTab = $(`.tab[data-day="${dow}"]`, tabs);
    if (todayTab) todayTab.classList.add('today');

    applyDayState();
  }
  function currentDay(){ const t=$('.tab.active',tabs); return t?+t.dataset.day:0; }
  function resetCurrentDay(){
    const d=currentDay();
    const currentDayCard = $(`article.day[data-day="${d}"]`);
    if (currentDayCard) {
      $$(`.exercise`, currentDayCard).forEach(ex=>{
        const setsWrap = $('.sets',ex);
        if (!setsWrap) return;
        const id=getExKey(currentDayCard, ex);
        const def=+setsWrap.dataset.default||3;
        const arr=Array(def).fill(false);
        saveSets(id,arr); 
        renderSets(setsWrap,arr,id);

        const delBtn = $('.delset', ex);
        if (delBtn) {
            if (def <= 1) {
                delBtn.classList.add('ghost');
            } else {
                delBtn.classList.remove('ghost');
            }
        }
      });
    }
    // unmark day done
    state.done = state.done||{}; state.done[d]=false; save();
    applyDayState();
  }
  function applyDayState(){
    const d=currentDay(); const done = state.done && state.done[d];
    dayState.textContent = done?'Completado ✅':'Pendiente';
    dayState.style.color = done?'var(--ok)':'var(--muted)';
  }
  function applyTheme(th){
    document.documentElement.style.colorScheme = th==='dark'?'dark':'light';
    if(th==='light'){
      document.documentElement.style.setProperty('--bg','#f7f7fb');
      document.documentElement.style.setProperty('--elev','#ffffff');
      document.documentElement.style.setProperty('--card','#ffffff');
      document.documentElement.style.setProperty('--ink','#111317');
      document.documentElement.style.setProperty('--muted','#5a6270');
      document.documentElement.style.setProperty('--line','#e6e8ef');
    }else{
      document.documentElement.style.setProperty('--bg','#0f0f12');
      document.documentElement.style.setProperty('--elev','#17171c');
      document.documentElement.style.setProperty('--card','#1f2026');
      document.documentElement.style.setProperty('--ink','#e8ecf1');
      document.documentElement.style.setProperty('--muted','#a9b0bc');
      document.documentElement.style.setProperty('--line','#2a2c36');
    }
  }
  function applyWeekHint(){
    const w = weekSel.value;
    if(w==='3'){ weekHint.textContent='Sube intensidad: últimas series clave a RIR 1.'; weekHint.style.color='var(--brand-2)'; }
    else if(w==='5'){ weekHint.textContent='Añade +1 serie a cuádriceps/hip thrust.'; weekHint.style.color='var(--brand-2)'; }
    else if(w.startsWith('6')){ weekHint.textContent='DELOAD: reduce volumen 40–50% y sube RIR +1–2.'; weekHint.style.color='var(--warn)'; }
    else { weekHint.textContent='Sigue el plan base (RIR ~3→2).'; weekHint.style.color='var(--muted)'; }
  }
  function save(){ localStorage.setItem(stateKey, JSON.stringify(state)); }
  function vibe(){ if('vibrate' in navigator) navigator.vibrate([40,60,40]); }
})();
</script>
</body>
</html>

